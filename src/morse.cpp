/* lookup table ASCII to MORSE.
   morse representation
	 dot .
	 dah -
	 blanks indicate no morse equivelent
*/
#include <stdlib.h>
static const char *morsetable[] = {
	/* nul */ "",
	/* soh */ "",
	/* stx */ "",
	/* etx */ "",
	/* eot */ "",
	/* enq */ "",
	/* ack */ "",
	/* bel */ "",
	/* bs  */ "",
	/* ht  */ "",
	/* lf  */ "",
	/* vt  */ "",
	/* ff  */ "",
	/* cr  */ "",
	/* so  */ "",
	/* si  */ "",
	/* dle */ "",
	/* dc1 */ "",
	/* dc2 */ "",
	/* dc3 */ "",
	/* dc4 */ "",
	/* nak */ "",
	/* syn */ "",
	/* etb */ "",
	/* can */ "",
	/* em  */ "",
	/* sub */ "",
	/* esc */ "",
	/* fs  */ "",
	/* gs  */ "",
	/* rs  */ "",
	/* us  */ "",

	/* ' ' */ "",
	/* '!' */ "-.-.--",
	/* '"' */ "",
	/* '#' */ "",
	/* '$' */ "",
	/* '%' */ "",
	/* '&' */ ".-...",
	/* ''' */ ".----.",
	/* '(' */ "-.--.",
	/* ')' */ "-.--.-",
	/* '*' */ "",
	/* '+' */ ".-.-.",
	/* ',' */ "--..--",
	/* '-' */ "-....-",
	/* '.' */ ".-.-.-",
	/* '/' */ "-..-.",
	/* '0' */ "-----",
	/* '1' */ ".----",
	/* '2' */ "..---",
	/* '3' */ "...--",
	/* '4' */ "....-",
	/* '5' */ ".....",
	/* '6' */ "-....",
	/* '7' */ "--...",
	/* '8' */ "---..",
	/* '9' */ "----.",
	/* ':' */ "---...",
	/* ';' */ "-.-.-.",
	/* '<' */ "",
	/* '=' */ "-...-",
	/* '>' */ "",
	/* '?' */ "..--..",
	/* '@' */ ".--.-.",
	/* 'A' */ ".-",
	/* 'B' */ "-...",
	/* 'C' */ "-.-.",
	/* 'D' */ "-..",
	/* 'E' */ ".",
	/* 'F' */ "..-.",
	/* 'G' */ "--.",
	/* 'H' */ "....",
	/* 'I' */ "..",
	/* 'J' */ ".---",
	/* 'K' */ "-.-",
	/* 'L' */ ".-..",
	/* 'M' */ "--",
	/* 'N' */ "-.",
	/* 'O' */ "---",
	/* 'P' */ ".--.",
	/* 'Q' */ "--.-",
	/* 'R' */ ".-.",
	/* 'S' */ "...",
	/* 'T' */ "-",
	/* 'U' */ "..-",
	/* 'V' */ "...-",
	/* 'W' */ ".--",
	/* 'X' */ "-..-",
	/* 'Y' */ "-.--",
	/* 'Z' */ "--..",
	/* '[' */ "",
	/* '~' */ "",
	/* ']' */ "",
	/* '^' */ "",
	/* '_' */ "..--.-",
	/* '@' */ ".--.-.",
	/* 'a' */ ".-",
	/* 'b' */ "-...",
	/* 'c' */ "-.-.",
	/* 'd' */ "-..",
	/* 'e' */ ".",
	/* 'f' */ "..-.",
	/* 'g' */ "--.",
	/* 'h' */ "....",
	/* 'i' */ "..",
	/* 'j' */ ".---",
	/* 'k' */ "-.-",
	/* 'l' */ ".-..",
	/* 'm' */ "--",
	/* 'n' */ "-.",
	/* 'o' */ "---",
	/* 'p' */ ".--.",
	/* 'q' */ "--.-",
	/* 'r' */ ".-.",
	/* 's' */ "...",
	/* 't' */ "-",
	/* 'u' */ "..-",
	/* 'v' */ "...-",
	/* 'w' */ ".--",
	/* 'x' */ "-..-",
	/* 'y' */ "-.--",
	/* 'z' */ "--..",
	/* '{' */ "",
	/* '|' */ "",
	/* '}' */ "",
	/* '~' */ "",
};


/* Rules
	 tick at transmission rate,
	 dit 1
   dah 111
   gap between dah-dit 0
   gap between letters 000
   gap between words   0000000
*/
const char *dot  = "10"; /* includes  gap */
const char *dash = "1110";
const char *lettersp = "00"; /* needs 2 extra between letters */
const char *wordsp = "0000"; /* extra between words */
char *code(char c) { return morsetable[c]; }

char *key; /* string of 01 dot dash space(s) */
char *symbol; /* string of morse .- */
char *message; /* message to convert */
void emmiter(void) {
    char cc = *key++;
    switch (cc) {
        case '1':
        case '0':
        default:
            /* run out of 01s */

    }
}

char *str2morse(char *s)
{
    char c;
    while( (c=*s++) ){
        switch(c){
            case ' ': emit
        }
    }
}
